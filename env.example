# Django Environment Configuration
# Copy this file to .env and update the values for your environment

# Security
SECRET_KEY=your-secret-key-here-change-in-production
DEBUG=True

# Allowed Hosts (comma-separated)
ALLOWED_HOSTS=*

# Database Configuration
# DB_ENGINE: 'mysql' or 'sqlite3'
DB_ENGINE=mysql

# MySQL Configuration (when DB_ENGINE=mysql)
MYSQL_DATABASE=mall_server_dev
MYSQL_USER=root
MYSQL_PASSWORD=your-password
MYSQL_HOST=localhost
MYSQL_PORT=3306
DB_CONN_MAX_AGE=60
# DB_CONN_HEALTH_CHECKS is only available in Django 4.1+, not supported in Django 3.2
# DB_CONN_HEALTH_CHECKS=True

# SQLite Configuration (when DB_ENGINE=sqlite3)
DB_NAME=:memory:
DB_TIMEOUT=20
DB_TEST_NAME=:memory:

# Password Hasher Type: 'secure' or 'md5' (md5 is faster for testing)
PASSWORD_HASHER_TYPE=secure

# Cache Configuration
# CACHE_BACKEND: 'db', 'locmem', or 'dummy'
CACHE_BACKEND=db
CACHE_LOCATION=mall_server_cache
CACHE_MAX_ENTRIES=10000
CACHE_CULL_FREQUENCY=3
CACHE_TIMEOUT=300
CACHE_KEY_PREFIX=mall_server

# Optional: Separate cache backends
CACHE_ENABLE_SESSIONS=False
CACHE_SESSIONS_LOCATION=mall_server_sessions_cache
CACHE_SESSIONS_TIMEOUT=1800
CACHE_SESSIONS_MAX_ENTRIES=5000
CACHE_SESSIONS_CULL_FREQUENCY=3
CACHE_SESSIONS_KEY_PREFIX=mall_sessions

CACHE_ENABLE_STATIC=False
CACHE_STATIC_LOCATION=mall_server_static_cache
CACHE_STATIC_TIMEOUT=7200
CACHE_STATIC_MAX_ENTRIES=3000
CACHE_STATIC_CULL_FREQUENCY=5
CACHE_STATIC_KEY_PREFIX=mall_static

# Session Configuration
SESSION_ENGINE=django.contrib.sessions.backends.db
SESSION_COOKIE_AGE=3600

# Security Settings
SECURE_BROWSER_XSS_FILTER=True
SECURE_CONTENT_TYPE_NOSNIFF=True
X_FRAME_OPTIONS=DENY
SECURE_HSTS_SECONDS=0
SECURE_HSTS_INCLUDE_SUBDOMAINS=False
SECURE_HSTS_PRELOAD=False

# CSRF Configuration
CSRF_COOKIE_SECURE=False
CSRF_COOKIE_HTTPONLY=True
CSRF_COOKIE_SAMESITE=Strict
CSRF_TRUSTED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# Session Configuration
SESSION_COOKIE_SECURE=False
SESSION_COOKIE_HTTPONLY=True
SESSION_COOKIE_SAMESITE=Strict
SESSION_COOKIE_AGE=3600
SESSION_EXPIRE_AT_BROWSER_CLOSE=True
SESSION_ENGINE=django.contrib.sessions.backends.db

# CORS Configuration
CORS_ALLOW_ALL_ORIGINS=True
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# Django REST Framework
DRF_PAGE_SIZE=20

# JWT Configuration
JWT_ACCESS_TOKEN_LIFETIME_DAYS=7
JWT_REFRESH_TOKEN_LIFETIME_DAYS=30

# WeChat Configuration
# WeChat Mini Program App ID
WECHAT_APPID=
# WeChat Mini Program App Secret
WECHAT_APPSECRET=
# WeChat Pay Merchant ID (商户号)
WECHAT_MCHID=
# WeChat Pay Merchant ID (alias, same as WECHAT_MCHID)
WECHAT_MCH_ID=
# WeChat Pay Notify URL (支付回调地址，必须是公网可访问的URL)
# Example: https://yourdomain.com/api/order/callback
WECHAT_NOTIFY_URL=http://localhost:8000/api/order/callback
# WeChat Pay Private Key Path (RSA私钥文件路径，用于JSAPI支付签名)
# Example: /path/to/apiclient_key.pem
# 注意：此文件需要从微信支付商户平台下载
WECHAT_KEY_PATH=
# WeChat Pay V3 API Configuration
# Certificate Serial Number (证书序列号，从证书文件中获取)
# 获取方法：
#   1. 使用脚本：python scripts/get_cert_serial.py <cert_file_path>
#   2. 使用命令：openssl x509 -in apiclient_cert.pem -noout -serial
#   3. 从微信支付商户平台查看：账户中心 -> API安全 -> API证书
WECHAT_CERT_SERIAL_NO=
# API v3 Key (API v3密钥，在商户平台设置)
# 路径：账户中心 -> API安全 -> API密钥 -> 设置APIv3密钥
WECHAT_APIV3_KEY=
# Certificate Cache Directory (平台证书缓存目录，首次使用确保为空目录)
# Example: ./cert or /path/to/cert
WECHAT_CERT_DIR=

# Email Configuration
EMAIL_BACKEND=django.core.mail.backends.console.EmailBackend
EMAIL_HOST=
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=
EMAIL_HOST_PASSWORD=

# Logging Configuration
LOGGING_DISABLE=False

# Test Configuration
TEST_RUNNER=django.test.runner.DiscoverRunner
TEST_MEDIA_ROOT=
TEST_STATIC_ROOT=

# Password Security
BCRYPT_ROUNDS=12

# Localization
LANGUAGE_CODE=zh-hans
TIME_ZONE=Asia/Shanghai

# Backend URL (for building absolute URLs)
BACKEND_URL=http://localhost:8000

